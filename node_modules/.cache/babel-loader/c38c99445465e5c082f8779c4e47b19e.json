{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SirHieppi\\\\Documents\\\\GitHub\\\\FoodieVenture\\\\src\\\\App.js\";\n// React\n// import Button from 'react-bootstrap/Button'\nimport React, { Component } from 'react'; // Components\n\nimport FoodieVenture from './components/FoodieVenture.js';\nimport AddLocation from './components/AddLocation.js';\nimport Title from './components/Title.js';\nimport Footer from './components/Footer.js';\nimport Results from './components/Results.js'; // Styling\n\nimport './App.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // State = { initial, selection, result }\n      currentState: \"location\",\n      selectedFoodCategories: [],\n      location: '',\n      userID: -1,\n      url: \"https://howardlam546.pythonanywhere.com\"\n    };\n\n    this.doSomethingBeforeUnload = () => {\n      if (this.state.userID !== -1) {\n        this.removeCurrentGuest();\n      }\n    };\n\n    this.setupBeforeUnloadListener = () => {\n      window.addEventListener(\"beforeunload\", ev => {\n        ev.preventDefault();\n        return this.doSomethingBeforeUnload();\n      });\n    };\n\n    this.removeCurrentGuest = () => {\n      console.log(\"making a request to \" + (this.state.url + '/guest/id/' + this.state.userID + '/remove'));\n      fetch(this.state.url + '/guest/id/' + this.state.userID + '/remove', {\n        method: 'POST',\n        body: JSON.stringify({})\n      });\n    };\n\n    this.setLocation = l => {\n      //check valid location\n      this.setState({\n        location: l,\n        inInitialState: false\n      });\n      console.log(\"setting location\");\n      console.log(this.state.location);\n    };\n\n    this.setUserID = uID => {\n      this.setState({\n        userID: uID\n      });\n    };\n\n    this.setSelectedFoodCategories = array => {\n      this.setState({\n        selectedFoodCategories: array\n      });\n    };\n\n    this.initialState = () => {\n      return React.createElement(\"div\", {\n        className: \"AppContainerInitial\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(Title, {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"AddLocation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(AddLocation, {\n        setLocation: this.setLocation,\n        switchToState: this.switchToState,\n        userID: this.state.userID,\n        setUserID: this.setUserID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })));\n    };\n\n    this.selectionState = () => {\n      return React.createElement(\"div\", {\n        className: \"AppContainerSelection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"FoodieVentureSelection\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(FoodieVenture, {\n        foodCategories: this.state.foodCategories,\n        selectButton: this.selectButton,\n        switchToState: this.switchToState,\n        setSelectedFoodCategories: this.setSelectedFoodCategories,\n        userID: this.state.userID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      })));\n    };\n\n    this.resultsState = () => {\n      return React.createElement(\"div\", {\n        className: \"AppContainerResults\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"Results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Results, {\n        selectedFoodCategories: this.state.selectedFoodCategories,\n        switchToState: this.switchToState,\n        location: this.state.location,\n        userID: this.state.userID,\n        removeCurrentGuest: this.removeCurrentGuest,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })));\n    };\n\n    this.storeDataInSessionStorage = (key, value) => {\n      sessionStorage.setItem(key, value);\n    };\n\n    this.switchToState = state => {\n      switch (state) {\n        case \"initial\":\n          this.setState({\n            currentState: \"initial\"\n          });\n          break;\n\n        case \"selection\":\n          this.setState({\n            currentState: \"selection\"\n          });\n          break;\n\n        case \"result\":\n          this.setState({\n            currentState: \"result\"\n          });\n          break;\n\n        default:\n          this.setState({\n            currentState: \"initial\"\n          });\n      }\n    };\n  }\n\n  componentDidMount() {\n    // Activate the event listener\n    this.setupBeforeUnloadListener();\n\n    if (this.state.userID !== -1) {\n      this.removeCurrentGuest();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.state.userID !== -1) {\n      this.removeCurrentGuest();\n    }\n  }\n\n  render() {\n    // const { id, category } = this.props.foodCategories;\n    console.log(\"Guest id is \" + this.state.userID);\n\n    switch (this.state.currentState) {\n      case \"initial\":\n        return this.initialState();\n\n      case \"selection\":\n        return this.selectionState();\n\n      case \"result\":\n        return this.resultsState();\n\n      default:\n        return this.initialState();\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/SirHieppi/Documents/GitHub/FoodieVenture/src/App.js"],"names":["React","Component","FoodieVenture","AddLocation","Title","Footer","Results","App","state","currentState","selectedFoodCategories","location","userID","url","doSomethingBeforeUnload","removeCurrentGuest","setupBeforeUnloadListener","window","addEventListener","ev","preventDefault","console","log","fetch","method","body","JSON","stringify","setLocation","l","setState","inInitialState","setUserID","uID","setSelectedFoodCategories","array","initialState","switchToState","selectionState","foodCategories","selectButton","resultsState","storeDataInSessionStorage","key","value","sessionStorage","setItem","componentDidMount","componentWillUnmount","render"],"mappings":"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","sourcesContent":["// React\r\n// import Button from 'react-bootstrap/Button'\r\nimport React, { Component } from 'react';\r\n\r\n// Components\r\nimport FoodieVenture from './components/FoodieVenture.js';\r\nimport AddLocation from './components/AddLocation.js';\r\nimport Title from './components/Title.js';\r\nimport Footer from './components/Footer.js';\r\nimport Results from './components/Results.js';\r\n\r\n// Styling\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        // State = { initial, selection, result }\r\n        currentState: \"location\",\r\n\r\n        selectedFoodCategories: [],\r\n\r\n        location: '',\r\n\r\n        userID: -1,\r\n\r\n        url: \"https://howardlam546.pythonanywhere.com\"\r\n    }\r\n\r\n    // Things to do before unloading/closing the tab\r\n    doSomethingBeforeUnload = () => {\r\n        if (this.state.userID !== -1) {\r\n            this.removeCurrentGuest()\r\n        }\r\n    }\r\n\r\n    // Setup the `beforeunload` event listener\r\n    setupBeforeUnloadListener = () => {\r\n        window.addEventListener(\"beforeunload\", (ev) => {\r\n            ev.preventDefault();\r\n            return this.doSomethingBeforeUnload();\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // Activate the event listener\r\n        this.setupBeforeUnloadListener();\r\n\r\n        if (this.state.userID !== -1) {\r\n            this.removeCurrentGuest()\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.userID !== -1) {\r\n            this.removeCurrentGuest()\r\n        }\r\n    }\r\n\r\n    removeCurrentGuest = () => {\r\n        console.log(\"making a request to \" + ((this.state.url + '/guest/id/') + this.state.userID + '/remove'));\r\n        fetch(((this.state.url + '/guest/id/') + this.state.userID + '/remove'), {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n    setLocation = (l) => {\r\n        //check valid location\r\n\r\n        this.setState({ location: l, inInitialState: false });\r\n        console.log(\"setting location\");\r\n        console.log(this.state.location);\r\n    }\r\n\r\n    setUserID = (uID) => {\r\n        this.setState({ userID: uID });\r\n    }\r\n\r\n    setSelectedFoodCategories = (array) => {\r\n        this.setState({ selectedFoodCategories: array })\r\n    }\r\n\r\n    // Application states\r\n\r\n    // Let user select location for generation\r\n    initialState = () => {\r\n        return (\r\n            <div className=\"AppContainerInitial\">\r\n                <div className=\"Title\">\r\n                    <Title className='title' />\r\n                </div>\r\n\r\n                <div className=\"AddLocation\">\r\n                    <AddLocation\r\n                        setLocation={this.setLocation}\r\n                        switchToState={this.switchToState}\r\n                        userID={this.state.userID}\r\n                        setUserID={this.setUserID} />\r\n                </div>\r\n\r\n                {/* <div className=\"FooterInitial\">\r\n                    <Footer />\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Let user select categories\r\n    selectionState = () => {\r\n        return (\r\n            <div className=\"AppContainerSelection\">\r\n                <div className=\"Title\">\r\n                    <Title />\r\n                </div>\r\n\r\n                <div className=\"FoodieVentureSelection\">\r\n                    <FoodieVenture\r\n                        foodCategories={this.state.foodCategories}\r\n                        selectButton={this.selectButton}\r\n                        switchToState={this.switchToState}\r\n                        setSelectedFoodCategories={this.setSelectedFoodCategories}\r\n                        userID={this.state.userID}\r\n                    />\r\n                </div>\r\n\r\n                {/* <div className=\"FooterSelection\">\r\n                    <Footer />\r\n                </div> */}\r\n            </div>);\r\n    }\r\n\r\n    resultsState = () => {\r\n        return (\r\n            <div className=\"AppContainerResults\">\r\n                <div className=\"Title\">\r\n                    <Title />\r\n                </div>\r\n\r\n                <div className=\"Results\">\r\n                    <Results\r\n                        selectedFoodCategories={this.state.selectedFoodCategories}\r\n                        switchToState={this.switchToState}\r\n                        location={this.state.location}\r\n                        userID={this.state.userID}\r\n                        removeCurrentGuest={this.removeCurrentGuest} />\r\n                </div>\r\n\r\n                {/* <div className=\"FooterResults\">\r\n                    <Footer />\r\n                </div> */}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    storeDataInSessionStorage = (key, value) => {\r\n        sessionStorage.setItem(key, value)\r\n    }\r\n\r\n    // Helper Functions\r\n\r\n    switchToState = (state) => {\r\n        switch (state) {\r\n            case \"initial\":\r\n                this.setState({ currentState: \"initial\" });\r\n                break;\r\n            case \"selection\":\r\n                this.setState({ currentState: \"selection\" });\r\n                break;\r\n            case \"result\":\r\n                this.setState({ currentState: \"result\" });\r\n                break;\r\n            default:\r\n                this.setState({ currentState: \"initial\" });\r\n        }\r\n    }\r\n\r\n    render() { // const { id, category } = this.props.foodCategories;\r\n        console.log(\"Guest id is \" + this.state.userID)\r\n\r\n        switch (this.state.currentState) {\r\n            case \"initial\":\r\n                return this.initialState();\r\n            case \"selection\":\r\n                return this.selectionState();\r\n            case \"result\":\r\n                return this.resultsState();\r\n            default:\r\n                return this.initialState();\r\n        }\r\n    }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}